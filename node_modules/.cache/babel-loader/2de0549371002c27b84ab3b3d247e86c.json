{"ast":null,"code":"import axios from 'axios';\nimport { AUTH_SIGN_IN, AUTH_SIGN_OUT, AUTH_ERROR } from './types';\nexport var login = function login() {\n  return function (dispacth, getState) {\n    var token = getState().auth.token;\n    var config = {\n      headers: {\n        'content-Type': 'application/json'\n      }\n    }; //jika token, dimasukan ke headers config\n\n    if (token) {\n      config.headers['Authorization'] = \"Token\".concat(token);\n    }\n  };\n}; // export const login = data => {\n//   console.log('ini data in action', data);\n//   return async dispacth => {\n//     try {\n//       const res = await axios.post(\n//         'http://localhost:8000/apis/users/signIn',\n//         data\n//       );\n//       console.log('res', res);\n//       dispacth({\n//         type: AUTH_SIGN_IN,\n//         payload: res.data.token\n//       });\n//       localStorage.setItem('JWT_TOKEN', res.data.token);\n//     } catch (error) {\n//       dispacth({\n//         type: AUTH_ERROR,\n//         payload: 'username or password is not valid'\n//       });\n//       console.log('error', error);\n//     }\n//   };\n// };\n\nexport var logOut = function logOut() {\n  return function (dispacth) {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};","map":{"version":3,"sources":["/home/abdiel/Documents/bppnApps/myApps-Test/src/actions/auth.js"],"names":["axios","AUTH_SIGN_IN","AUTH_SIGN_OUT","AUTH_ERROR","login","dispacth","getState","token","auth","config","headers","logOut","localStorage","removeItem","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,UAAtC,QAAwD,SAAxD;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,UAACC,QAAD,EAAWC,QAAX,EAAwB;AACjD,QAAMC,KAAK,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,KAA9B;AACA,QAAME,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf,CAFiD,CAOjD;;AACA,QAAIH,KAAJ,EAAW;AACTE,MAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,mBAA0CH,KAA1C;AACD;AACF,GAXoB;AAAA,CAAd,C,CAaP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMI,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,SAAO,UAAAN,QAAQ,EAAI;AACjBO,IAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACAR,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEZ,aADC;AAEPa,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAND;AAOD,CARM","sourcesContent":["import axios from 'axios';\nimport { AUTH_SIGN_IN, AUTH_SIGN_OUT, AUTH_ERROR } from './types';\n\nexport const login = () => (dispacth, getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-Type': 'application/json'\n    }\n  };\n  //jika token, dimasukan ke headers config\n  if (token) {\n    config.headers['Authorization'] = `Token${token}`;\n  }\n};\n\n// export const login = data => {\n//   console.log('ini data in action', data);\n//   return async dispacth => {\n//     try {\n//       const res = await axios.post(\n//         'http://localhost:8000/apis/users/signIn',\n//         data\n//       );\n//       console.log('res', res);\n//       dispacth({\n//         type: AUTH_SIGN_IN,\n//         payload: res.data.token\n//       });\n//       localStorage.setItem('JWT_TOKEN', res.data.token);\n//     } catch (error) {\n//       dispacth({\n//         type: AUTH_ERROR,\n//         payload: 'username or password is not valid'\n//       });\n//       console.log('error', error);\n//     }\n//   };\n// };\n\nexport const logOut = () => {\n  return dispacth => {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}