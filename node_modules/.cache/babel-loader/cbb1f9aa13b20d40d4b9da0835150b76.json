{"ast":null,"code":"import axios from 'axios';\nimport { AUTH_SIGN_IN, AUTH_SIGN_OUT, AUTH_ERROR } from './types';\nexport var login = function login() {\n  return function (dispacth, getState) {\n    var token = getState().auth.token;\n    var config = {\n      headers: {\n        'content-Type': 'application/json'\n      }\n    }; //jika token, dimasukan ke headers config\n\n    if (token) {\n      config.headers['Authorization'] = \"Token\".concat(token);\n    }\n\n    axios.get('http://localhost:8000/apis/users/signIn', config).then(function (res) {\n      dispacth({\n        type: AUTH_SIGN_IN,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispacth(returnErrors(err.response.data, err.response.status));\n      dispacth({\n        type: AUTH_ERROR\n      });\n    });\n  };\n}; // export const login = data => {\n//   console.log('ini data in action', data);\n//   return async dispacth => {\n//     try {\n//       const res = await axios.post(\n//         'http://localhost:8000/apis/users/signIn',\n//         data\n//       );\n//       console.log('res', res);\n//       dispacth({\n//         type: AUTH_SIGN_IN,\n//         payload: res.data.token\n//       });\n//       localStorage.setItem('JWT_TOKEN', res.data.token);\n//     } catch (error) {\n//       dispacth({\n//         type: AUTH_ERROR,\n//         payload: 'username or password is not valid'\n//       });\n//       console.log('error', error);\n//     }\n//   };\n// };\n\nexport var logOut = function logOut() {\n  return function (dispacth) {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};","map":{"version":3,"sources":["/home/abdiel/Documents/bppnApps/myApps-Test/src/actions/auth.js"],"names":["axios","AUTH_SIGN_IN","AUTH_SIGN_OUT","AUTH_ERROR","login","dispacth","getState","token","auth","config","headers","get","then","res","type","payload","data","catch","err","returnErrors","response","status","logOut","localStorage","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,UAAtC,QAAwD,SAAxD;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,UAACC,QAAD,EAAWC,QAAX,EAAwB;AACjD,QAAMC,KAAK,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,KAA9B;AACA,QAAME,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf,CAFiD,CAOjD;;AACA,QAAIH,KAAJ,EAAW;AACTE,MAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,mBAA0CH,KAA1C;AACD;;AAEDP,IAAAA,KAAK,CACFW,GADH,CACO,yCADP,EACkDF,MADlD,EAEGG,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXR,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEb,YADC;AAEPc,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CAAR;AAID,KAPH,EAQGC,KARH,CAQS,UAAAC,GAAG,EAAI;AACZb,MAAAA,QAAQ,CAACc,YAAY,CAACD,GAAG,CAACE,QAAJ,CAAaJ,IAAd,EAAoBE,GAAG,CAACE,QAAJ,CAAaC,MAAjC,CAAb,CAAR;AACAhB,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEX;AADC,OAAD,CAAR;AAGD,KAbH;AAcD,GA1BoB;AAAA,CAAd,C,CA4BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMmB,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,SAAO,UAAAjB,QAAQ,EAAI;AACjBkB,IAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACAnB,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEZ,aADC;AAEPa,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAND;AAOD,CARM","sourcesContent":["import axios from 'axios';\nimport { AUTH_SIGN_IN, AUTH_SIGN_OUT, AUTH_ERROR } from './types';\n\nexport const login = () => (dispacth, getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-Type': 'application/json'\n    }\n  };\n  //jika token, dimasukan ke headers config\n  if (token) {\n    config.headers['Authorization'] = `Token${token}`;\n  }\n\n  axios\n    .get('http://localhost:8000/apis/users/signIn', config)\n    .then(res => {\n      dispacth({\n        type: AUTH_SIGN_IN,\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      dispacth(returnErrors(err.response.data, err.response.status));\n      dispacth({\n        type: AUTH_ERROR\n      });\n    });\n};\n\n// export const login = data => {\n//   console.log('ini data in action', data);\n//   return async dispacth => {\n//     try {\n//       const res = await axios.post(\n//         'http://localhost:8000/apis/users/signIn',\n//         data\n//       );\n//       console.log('res', res);\n//       dispacth({\n//         type: AUTH_SIGN_IN,\n//         payload: res.data.token\n//       });\n//       localStorage.setItem('JWT_TOKEN', res.data.token);\n//     } catch (error) {\n//       dispacth({\n//         type: AUTH_ERROR,\n//         payload: 'username or password is not valid'\n//       });\n//       console.log('error', error);\n//     }\n//   };\n// };\n\nexport const logOut = () => {\n  return dispacth => {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}