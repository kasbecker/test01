{"ast":null,"code":"import _regeneratorRuntime from \"/home/abdiel/Documents/bppnApps/myApps-Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/abdiel/Documents/bppnApps/myApps-Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { AUTH_SIGN_OUT, AUTH_SIGN_IN, AUTH_ERROR, DATA_ERROR, GET_DATA_PEND } from './types';\nexport var login = function login(data) {\n  console.log('ini data in action', data);\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispacth) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post('http://localhost:8000/apis/users/signIn', data);\n\n              case 3:\n                res = _context.sent;\n                console.log('res', res);\n                dispacth({\n                  type: AUTH_SIGN_IN,\n                  payload: res.data.token\n                });\n                localStorage.setItem('JWT_TOKEN', res.data.token);\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                dispacth({\n                  type: AUTH_ERROR,\n                  payload: 'username or password is not valid'\n                });\n                console.log('error', _context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var logOut = function logOut() {\n  return function (dispacth) {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n}; // export const getPend = value => {\n//   //const query = queryString.stringify(value)\n//   return async dispacth => {\n//     try {\n//       const res = await axios.get(\n//         `http://localhost:8000/apis/penduduk?nik=${value.nik}&name=${\n//           value.name\n//         }`\n//       );\n//       console.log(\"res\", res);\n//       dispacth({\n//         type: GET_DATA_PEND,\n//         payload: res.data\n//       });\n//     } catch (error) {\n//       dispacth({\n//         type: DATA_ERROR,\n//         payload: \"data is not found\"\n//       });\n//       console.log(\"error\", error);\n//     }\n//   };\n// };\n\nexport var getData = function getData(value) {\n  //const query = queryString.stringify(value)\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispacth) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.get(\"http://192.168.1.100:8888/ords/siakoff/test1/photo/\".concat(value.nik));\n\n              case 3:\n                res = _context2.sent;\n                console.log('res', res);\n                dispacth({\n                  type: GET_DATA_PEND,\n                  payload: res.data\n                });\n                _context2.next = 12;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispacth({\n                  type: DATA_ERROR,\n                  payload: 'data is not found'\n                });\n                console.log('error', _context2.t0);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 8]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/home/abdiel/Documents/bppnApps/myApps-Test/src/actions/index.js"],"names":["axios","AUTH_SIGN_OUT","AUTH_SIGN_IN","AUTH_ERROR","DATA_ERROR","GET_DATA_PEND","login","data","console","log","dispacth","post","res","type","payload","token","localStorage","setItem","logOut","removeItem","getData","value","get","nik"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,YAFF,EAGEC,UAHF,EAIEC,UAJF,EAKEC,aALF,QAMO,SANP;AAQA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,IAAI,EAAI;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,IAAlC;AACA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAO,iBAAMG,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEeV,KAAK,CAACW,IAAN,CAChB,yCADgB,EAEhBJ,IAFgB,CAFf;;AAAA;AAEGK,gBAAAA,GAFH;AAMHJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,GAAnB;AACAF,gBAAAA,QAAQ,CAAC;AACPG,kBAAAA,IAAI,EAAEX,YADC;AAEPY,kBAAAA,OAAO,EAAEF,GAAG,CAACL,IAAJ,CAASQ;AAFX,iBAAD,CAAR;AAIAC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCL,GAAG,CAACL,IAAJ,CAASQ,KAA3C;AAXG;AAAA;;AAAA;AAAA;AAAA;AAaHL,gBAAAA,QAAQ,CAAC;AACPG,kBAAAA,IAAI,EAAEV,UADC;AAEPW,kBAAAA,OAAO,EAAE;AAFF,iBAAD,CAAR;AAIAN,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAjBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBD,CAtBM;AAwBP,OAAO,IAAMS,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,SAAO,UAAAR,QAAQ,EAAI;AACjBM,IAAAA,YAAY,CAACG,UAAb,CAAwB,WAAxB;AACAT,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEZ,aADC;AAEPa,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAND;AAOD,CARM,C,CAUP;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMM,OAAO,GAAG,SAAVA,OAAU,CAAAC,KAAK,EAAI;AAC9B;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAO,kBAAMX,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEeV,KAAK,CAACsB,GAAN,8DACsCD,KAAK,CAACE,GAD5C,EAFf;;AAAA;AAEGX,gBAAAA,GAFH;AAKHJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,GAAnB;AACAF,gBAAAA,QAAQ,CAAC;AACPG,kBAAAA,IAAI,EAAER,aADC;AAEPS,kBAAAA,OAAO,EAAEF,GAAG,CAACL;AAFN,iBAAD,CAAR;AANG;AAAA;;AAAA;AAAA;AAAA;AAWHG,gBAAAA,QAAQ,CAAC;AACPG,kBAAAA,IAAI,EAAET,UADC;AAEPU,kBAAAA,OAAO,EAAE;AAFF,iBAAD,CAAR;AAIAN,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAfG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBD,CArBM","sourcesContent":["import axios from 'axios';\nimport {\n  AUTH_SIGN_OUT,\n  AUTH_SIGN_IN,\n  AUTH_ERROR,\n  DATA_ERROR,\n  GET_DATA_PEND\n} from './types';\n\nexport const login = data => {\n  console.log('ini data in action', data);\n  return async dispacth => {\n    try {\n      const res = await axios.post(\n        'http://localhost:8000/apis/users/signIn',\n        data\n      );\n      console.log('res', res);\n      dispacth({\n        type: AUTH_SIGN_IN,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n    } catch (error) {\n      dispacth({\n        type: AUTH_ERROR,\n        payload: 'username or password is not valid'\n      });\n      console.log('error', error);\n    }\n  };\n};\n\nexport const logOut = () => {\n  return dispacth => {\n    localStorage.removeItem('JWT_TOKEN');\n    dispacth({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};\n\n// export const getPend = value => {\n//   //const query = queryString.stringify(value)\n\n//   return async dispacth => {\n//     try {\n//       const res = await axios.get(\n//         `http://localhost:8000/apis/penduduk?nik=${value.nik}&name=${\n//           value.name\n//         }`\n//       );\n//       console.log(\"res\", res);\n//       dispacth({\n//         type: GET_DATA_PEND,\n//         payload: res.data\n//       });\n//     } catch (error) {\n//       dispacth({\n//         type: DATA_ERROR,\n//         payload: \"data is not found\"\n//       });\n//       console.log(\"error\", error);\n//     }\n//   };\n// };\n\nexport const getData = value => {\n  //const query = queryString.stringify(value)\n\n  return async dispacth => {\n    try {\n      const res = await axios.get(\n        `http://192.168.1.100:8888/ords/siakoff/test1/photo/${value.nik}`\n      );\n      console.log('res', res);\n      dispacth({\n        type: GET_DATA_PEND,\n        payload: res.data\n      });\n    } catch (error) {\n      dispacth({\n        type: DATA_ERROR,\n        payload: 'data is not found'\n      });\n      console.log('error', error);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}